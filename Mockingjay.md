# Mockingjay 计划 #
## 背景 ## 
在已展开/后续将实行前后端分离框架下，前后端的研发人员需要专注于各自领域内的业务。而不再是前端开发进度严重依赖于后端接口的开发进度，后端开发需要基于前端的UI来进行开发过程中的调试及自测，测试需要等前后端集成后才能开展测试工作。
## 概述 ##
Mockingjay 是生产力工具，是协同研发平台，更是研发流程管理规范。
### 作为生产力工具，Mockingjay 为研发提供以下支持 ###
以上描述的功能与特性对于前后端业务代码完全 **无侵入**
1.  本地静态资源托管
2.  外部资源代理
3.  接口转发
4.  本地**Mock**
5.  服务端代理
6.  服务端接口转发
7.  服务端**Mock**

### 作为协同研发平台，Mockingjay 满足或改变以下协同开发场景中的需求 ###
1.  无需修改接口路径以适配任何**Mock**服务。
2.  在多人协同开发过程中，不会因为一个开发人员修改mock数据而影响到其他开发人员。
3.  开发与测试工作最大程度解耦，测试无需等到前后端集成后即可展开测试工作。
4.  降低前后端集成调试成本，即使在后端接口尚未开发时，亦直接集成后端接口（基于服务端Mock）。在后端接口发布后，点击一个开关即可平滑过渡，打通前后端业务逻辑。
5.  后端集成Swagger，不依赖于前端方便的开展接口调试

### Mockingjay 计划倡导以下研发流程 ###
1.  拆解需求，制定接口
2.  开发与测试准备
    -   配置本地接口mock
    -   起草测试用例
    -   配置服务端mock，（依需求而定）
3.  前后端开发，自动化测试准备
4.  开发与测试交付，即使前后端无法同时交付亦不会影响测试工作的开展
    -   前端交付完整可测模块/页面
    -   后端交付接口
    -   测试交付用例与自动化测试脚本
5.  测试与bug fix
6.  产品模块交付，UI与产品验收

## 实施 ##
### 工具集开发 ###
1.  本地工具 **Mockingjay Broker** - Ready
2.  服务端工具 **Mockingjay Node** - Ready
3.  Mock平台 **Mockingjay** - Ready

### 硬件准备 ###
1.  一台Linux服务器

### 其他软件/服务准备 ###
1.  Redis缓存服务
2.  Linux服务器上安装配置Node.js环境
3.  本地安装配置Node.js环境

### 部署 ###
1.  Linux服务器上部署并配置**Mockingjay Node**服务
2.  Linux服务器上部署并配置**Mockingjay**服务
3.  本地部署并配置**Mockingjay Broker**服务

### 配置 ###
1.  配置**Mockingjay Node**的静态资源、接口转发、mock平台
2.  配置**Mockingjay**的redis连接
3.  配置**Mockingjay Broker**的静态资源、接口转发、mock规则
4.  配置DNS服务，将原域名绑定到Linux服务器上的**Mockingjay Node**服务端口。例如开发环境B端服务部署在46上，域名解析亦指向46，先将域名解析指向60（部署了Mockingjay Node的Linux）

