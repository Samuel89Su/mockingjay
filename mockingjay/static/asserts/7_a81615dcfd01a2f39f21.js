webpackJsonp([7],{1024:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),p=n(s),c=a(262),u=a(43),d=n(u);a(1045);var h=a(86),f=function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.register=a.register.bind(a),a.handlePaginationChange=a.handlePaginationChange.bind(a),a.search=a.search.bind(a),a.state={activePage:1},a}return i(t,e),o(t,[{key:"componentWillMount",value:function(){try{this.props.pagedApps&&this.props.pagedApps.records&&this.props.pagedApps.records instanceof Array&&0!==this.props.pagedApps.records.length||this.props.fetchData({owned:this.props.owned,pageNum:this.state.activePage-1})}catch(e){console.log(this.props.pagedApps)}}},{key:"componentWillReceiveProps",value:function(e){if(this.setState({isSearching:!1}),this.props.owned^e.owned){var t=this.props.location&&this.props.location.search?this.props.location.search:window.location.search,a=d.default.parse(t);a.owned=e.owned,this.setState({query:a}),a.pageNum=0,this.props.fetchData(a)}}},{key:"register",value:function(e,t){this.props.history.push("/app/register")}},{key:"handlePaginationChange",value:function(e,t){this.setState({activePage:t.activePage}),this.props.fetchData({owned:this.props.owned,pageNum:t.activePage-1,partialName:this.state.partialName})}},{key:"search",value:function(e,t){this.setState({isSearching:!0,partialName:t.value}),this.props.fetchData({owned:this.props.owned,pageNum:this.state.activePage-1,partialName:t.value})}},{key:"render",value:function(){var e=this.props.pagedApps||{records:[]},t=e.records||[];if(!(t&&t instanceof Array))return p.default.createElement("div",null,"has no state");var a=this.state,n=a.isSearching,l=a.partialName;return p.default.createElement("div",{id:"app-list"},p.default.createElement(h.Header,{as:"h2"},"应用"),p.default.createElement("div",null,this.props.owned?p.default.createElement(h.Button,{onClick:this.register},"创建应用"):"",p.default.createElement("div",{className:"div-search"},p.default.createElement(h.Search,{loading:n,open:!1,onSearchChange:this.search,value:l,className:"search",placeholder:"名称模糊搜索"}))),p.default.createElement("div",null,p.default.createElement(h.Table,null,p.default.createElement(h.Table.Header,{fullWidth:!0},p.default.createElement(h.Table.Row,null,p.default.createElement(h.Table.HeaderCell,null,"ID"),p.default.createElement(h.Table.HeaderCell,null,"名称"),p.default.createElement(h.Table.HeaderCell,null,"描述"),p.default.createElement(h.Table.HeaderCell,null,"代理"),p.default.createElement(h.Table.HeaderCell,null,"详情"),p.default.createElement(h.Table.HeaderCell,null,"API List"))),p.default.createElement(h.Table.Body,null,t.map(function(e,t){return p.default.createElement(h.Table.Row,{key:t},p.default.createElement(h.Table.Cell,null,e.id),p.default.createElement(h.Table.Cell,null,e.name),p.default.createElement(h.Table.Cell,null,e.desc),p.default.createElement(h.Table.Cell,null,e.apiForwardTarget),p.default.createElement(h.Table.Cell,null,p.default.createElement(c.Link,{to:"/app/details?appId="+e.id+"&appName="+e.name},"详情")),p.default.createElement(h.Table.Cell,null,p.default.createElement(c.Link,{to:"/app/apilist?appId="+e.id+"&appName="+e.name},"api 列表")))}))),p.default.createElement("div",null,p.default.createElement(h.Pagination,{floated:"right",activePage:this.state.activePage,onPageChange:this.handlePaginationChange,totalPages:e.pageCnt||0}))))}}]),t}(s.Component);t.default=f},1045:function(e,t,a){var n=a(1046);"string"==typeof n&&(n=[[e.i,n,""]]);var l={};l.transform=void 0;a(1016)(n,l);n.locals&&(e.exports=n.locals)},1046:function(e,t,a){t=e.exports=a(1015)(!1),t.push([e.i,"/* app list begin */\n#app-list table {\n  width: 100%;\n  text-align: left; }\n\n#app-list th:nth-child(1) {\n  width: 20px; }\n\n#app-list th:nth-child(2) {\n  width: 160px; }\n\n#app-list th:nth-child(4) {\n  width: 150px; }\n\n#app-list th:nth-child(5) {\n  width: 120px; }\n\n#app-list th:nth-child(6) {\n  width: 150px; }\n\n#app-list .div-search {\n  display: inline; }\n  #app-list .div-search .search {\n    float: right; }\n\n/* app list end */\n",""])}});